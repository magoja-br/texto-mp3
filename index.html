<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leitor TTS Personalizado</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.4.16/mammoth.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>

    <!-- Biblioteca para concatena√ß√£o de √°udio MP3 -->
    <script src="https://cdn.jsdelivr.net/npm/lamejs@1.2.1/lame.min.js"></script>

</head>
<body>
    <header>
    <h1>Leitor Universal de Texto</h1>
    <nav>
    <label for="file-input" class="file-label">Carregar Arquivo (.txt, .pdf, .docx, .xlsx)</label>
    <input type="file" id="file-input" accept=".txt,.pdf,.docx,.xlsx">
    </nav>
    <div id="configuracoes-audio">
    <div>
    <label for="voz-select">Voz:</label>
    <select id="voz-select"></select>
    </div>
    <div>
    <label for="velocidade-slider">Velocidade:</label>
    <input type="range" id="velocidade-slider" min="0.5" max="2.0" step="0.05" value="1.0">
    <span id="velocidade-valor">1.00</span>x
    </div>
    </div>
    </header>

    <main>
    <div id="conteudo-leitura">
    <p class="aviso">Carregue um arquivo para come√ßar. Voc√™ pode selecionar par√°grafos com Ctrl+Click (PC) ou Toque Longo (Telem√≥vel) e usar o bot√£o üéµ para gerar um MP3 completo do que estiver selecionado.</p>
    </div>

    <!-- Barra de progresso para concatena√ß√£o -->
    <div id="progress" style="display: none; margin-top: 20px;">
        <div style="background: #f0f0f0; border-radius: 10px; overflow: hidden;">
            <div id="progressBar" style="width: 0%; height: 30px; background: linear-gradient(90deg, #4CAF50, #45a049); transition: width 0.3s;"></div>
        </div>
        <p id="progressText" style="text-align: center; margin-top: 10px;">Processando...</p>
    </div>
    </main>

    <button id="voltar-btn" class="voltar-button" style="display: none;" title="Voltar ao in√≠cio">‚è∏Ô∏è Voltar</button>

    <footer>
    <p>Desenvolvido com Google Cloud Text-to-Speech (via proxy).</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>